(function(t){function e(e){for(var o,l,r=e[0],n=e[1],d=e[2],m=0,u=[];m<r.length;m++)l=r[m],Object.prototype.hasOwnProperty.call(s,l)&&s[l]&&u.push(s[l][0]),s[l]=0;for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);c&&c(e);while(u.length)u.shift()();return i.push.apply(i,d||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],o=!0,r=1;r<a.length;r++){var n=a[r];0!==s[n]&&(o=!1)}o&&(i.splice(e--,1),t=l(l.s=a[0]))}return t}var o={},s={app:0},i=[];function l(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=t,l.c=o,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)l.d(a,o,function(e){return t[e]}.bind(null,o));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],n=r.push.bind(r);r.push=e,r=r.slice();for(var d=0;d<r.length;d++)e(r[d]);var c=n;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"1f8b":function(t,e,a){},2806:function(t,e,a){t.exports=a.p+"img/start-node.7949a17e.svg"},"2e11":function(t,e,a){},"3e0c":function(t,e,a){"use strict";var o=a("2e11"),s=a.n(o);s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("VueG6Editor")],1)},i=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"vue-g6-editor"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("header",[t._v("vue-g6-editor")])])],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{attrs:{id:"toolbar"}},[a("i",{staticClass:"command fa fa-floppy-o",attrs:{"data-command":"save",title:"保存"}}),a("i",{staticClass:"fa fa-history",attrs:{title:"历史数据"},on:{click:t.readHistoryData}}),a("i",{staticClass:"fa fa-hdd-o",attrs:{title:"上传数据"},on:{click:t.readUploadData}}),a("i",{staticClass:"fa fa-download",attrs:{title:"另存为文件"},on:{click:t.saveAsFile}}),a("i",{staticClass:"fa fa-picture-o",attrs:{title:"另存为图片"},on:{click:t.openSaveAsImageDialog}}),a("i",{staticClass:"command fa fa-undo",attrs:{"data-command":"undo",title:"撤销"}}),a("i",{staticClass:"command fa fa-repeat",attrs:{"data-command":"redo",title:"重做"}}),a("i",{staticClass:"command fa fa-trash-o",attrs:{"data-command":"delete",title:"删除"}}),a("i",{staticClass:"command fa fa-search-minus",attrs:{"data-command":"zoomOut",title:"缩小"}}),a("i",{staticClass:"command fa fa-search-plus",attrs:{"data-command":"zoomIn",title:"放大"}}),a("i",{staticClass:"command fa fa-eraser",attrs:{"data-command":"clear",title:"清除画布"}}),a("i",{staticClass:"command fa fa-arrow-up",attrs:{"data-command":"toFront",title:"提升层级"}}),a("i",{staticClass:"command fa fa-arrow-down",attrs:{"data-command":"toBack",title:"下降层级"}}),a("i",{staticClass:"command fa fa-check-square-o",attrs:{"data-command":"selectAll",title:"全选"}}),a("i",{staticClass:"command fa fa-files-o",attrs:{"data-command":"copy",title:"复制"}}),a("i",{staticClass:"command fa fa-clipboard",attrs:{"data-command":"paste",title:"粘贴"}}),a("i",{staticClass:"command fa fa-expand",attrs:{"data-command":"autoZoom",title:"实际大小"}}),a("i",{staticClass:"command fa fa-compress",attrs:{"data-command":"resetZoom",title:"适应页面"}}),a("i",{staticClass:"command fa fa-object-group",attrs:{"data-command":"addGroup",title:"组合"}}),a("i",{staticClass:"command fa fa-object-ungroup",attrs:{"data-command":"unGroup",title:"取消组合"}}),a("i",{staticClass:"command fa fa fa-crop",attrs:{"data-command":"multiSelect",title:"多选"}})])])],1),a("el-row",[a("el-col",{attrs:{span:2}},[a("div",{attrs:{id:"itempannel"}},[a("div",{staticClass:"getItem",attrs:{id:"startNode","data-type":"node","data-shape":"flow-circle","data-size":"72*72","data-label":"开始节点","data-color":"#FA8C16","data-nodeType":"startNode"}},[a("img",{attrs:{draggable:"false",src:t.startNodeSVGUrl,alt:"",srcset:""}})]),a("div",{staticClass:"getItem",attrs:{id:"regularNode","data-type":"node","data-size":"100*50","data-label":"常规节点","data-color":"#1890ff"}},[a("img",{attrs:{draggable:"false",src:t.regularNodeSVGUrl,alt:"",srcset:""}})]),a("div",{staticClass:"getItem",attrs:{id:"judgeNode","data-type":"node","data-shape":"flow-rhombus","data-size":"80*80","data-label":"条件节点","data-color":"#13C2C2"}},[a("img",{attrs:{draggable:"false",src:t.conditionNodeSVGUrl}})]),a("div",{staticClass:"getItem",attrs:{id:"endNode","data-type":"node","data-shape":"flow-circle","data-size":"80*80","data-label":"结束节点","data-color":"#FA8C16","data-nodeType":"endNode"}},[a("img",{attrs:{draggable:"false",src:t.endNodeSVGUrl}})])])]),a("el-col",{attrs:{span:18}},[a("el-col",{attrs:{span:24}},[a("div",{attrs:{id:"page"}})])],1),a("el-col",{attrs:{span:4}},[a("section",{staticClass:"right-part"},[a("div",{attrs:{id:"detailpannel"}},[a("div",{staticClass:"pannel",attrs:{id:"nodeAttributeBar","data-status":"node-selected"}},[a("div",{staticClass:"title"},[t._v("节点属性")]),a("div",{staticClass:"main"},[a("el-form",{attrs:{model:t.nodeAttributeForm,"label-position":"top","label-width":"80px"}},[a("el-form-item",{attrs:{label:"节点文本"}},[a("el-input",{on:{change:t.saveNodeAttribute},model:{value:t.nodeAttributeForm.label,callback:function(e){t.$set(t.nodeAttributeForm,"label",e)},expression:"nodeAttributeForm.label"}})],1),a("el-form-item",{attrs:{label:"宽度"}},[a("el-input",{on:{change:t.saveNodeAttribute},model:{value:t.nodeAttributeForm.width,callback:function(e){t.$set(t.nodeAttributeForm,"width",e)},expression:"nodeAttributeForm.width"}})],1),a("el-form-item",{attrs:{label:"高度"}},[a("el-input",{on:{change:t.saveNodeAttribute},model:{value:t.nodeAttributeForm.height,callback:function(e){t.$set(t.nodeAttributeForm,"height",e)},expression:"nodeAttributeForm.height"}})],1),a("el-form-item",{attrs:{label:"颜色"}},[a("el-color-picker",{on:{change:t.saveNodeAttribute},model:{value:t.nodeAttributeForm.color,callback:function(e){t.$set(t.nodeAttributeForm,"color",e)},expression:"nodeAttributeForm.color"}})],1)],1)],1)]),a("div",{staticClass:"pannel",attrs:{id:"edgeAttributeBar","data-status":"edge-selected"}},[a("div",{staticClass:"title"},[t._v("边属性")]),a("div",{staticClass:"main"},[a("el-form",{attrs:{model:t.edgeAttributeForm,"label-position":"top","label-width":"80px"}},[a("el-form-item",{attrs:{label:"边文本"}},[a("el-input",{on:{change:t.saveEdgeAttribute},model:{value:t.edgeAttributeForm.label,callback:function(e){t.$set(t.edgeAttributeForm,"label",e)},expression:"edgeAttributeForm.label"}})],1),a("el-form-item",{attrs:{label:"边文本"}},[a("el-select",{on:{change:t.saveEdgeAttribute},model:{value:t.edgeAttributeForm.shape,callback:function(e){t.$set(t.edgeAttributeForm,"shape",e)},expression:"edgeAttributeForm.shape"}},[a("el-option",{attrs:{label:"流程图折线",value:"flow-polyline"}}),a("el-option",{attrs:{label:"流程图圆⻆折线",value:"flow-polyline-round"}}),a("el-option",{attrs:{label:"流程图曲线",value:"flow-smooth"}})],1)],1)],1)],1)]),a("div",{staticClass:"pannel",attrs:{id:"groupAttributeBar","data-status":"group-selected"}},[a("div",{staticClass:"title"},[t._v("群组属性栏")])]),a("div",{staticClass:"pannel",attrs:{id:"canvasAttributeBar","data-status":"canvas-selected"}},[a("div",{staticClass:"title"},[t._v("画布属性栏")]),a("div",{staticClass:"main"},[a("el-form",{attrs:{"label-width":"80px","label-position":"right"}},[a("el-form-item",{attrs:{label:"网格对齐"}},[a("el-checkbox",{on:{change:t.toggleGridShowStatus},model:{value:t.canvasAttributeForm.grid,callback:function(e){t.$set(t.canvasAttributeForm,"grid",e)},expression:"canvasAttributeForm.grid"}})],1)],1)],1)]),a("div",{staticClass:"pannel",attrs:{id:"multiAttributeBar","data-status":"multi-selected"}},[a("div",{staticClass:"title"},[t._v("多选时属性栏")])])]),a("div",{attrs:{id:"minimap"}},[a("div",{staticClass:"title"},[t._v("缩略图")])])])])],1),a("article",[a("section",{staticClass:"save-as-image-dialog"},[a("el-dialog",{attrs:{title:"下载图片",visible:t.saveAsImageDialogVisible,width:"360px"},on:{"update:visible":function(e){t.saveAsImageDialogVisible=e}}},[a("el-form",{attrs:{"label-width":"100px","label-position":"top"}},[a("el-form-item",{attrs:{label:"选择图片格式"}},[a("el-select",{model:{value:t.saveAsImageFormat,callback:function(e){t.saveAsImageFormat=e},expression:"saveAsImageFormat"}},[a("el-option",{attrs:{label:"jpg",value:"jpg"}},[a("span",{staticStyle:{float:"left"}},[t._v("jpg")]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v("白色背景")])]),a("el-option",{attrs:{label:"png",value:"png"}},[a("span",{staticStyle:{float:"left"}},[t._v("png")]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v("透明背景")])])],1)],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.saveAsImageDialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveAsImage}},[t._v("确 定")])],1)],1)],1)]),a("section",[a("div",{attrs:{id:"contextmenu"}},[a("div",{staticClass:"menu",attrs:{"data-status":"node-selected"}},[a("el-button",{staticClass:"command",attrs:{"data-command":"copy"}},[t._v("复制")]),a("el-button",{staticClass:"command",attrs:{"data-command":"paste"}},[t._v("粘贴")]),a("el-button",{staticClass:"command",attrs:{"data-command":"delete"}},[t._v("删除")])],1),a("div",{staticClass:"menu",attrs:{"data-status":"edge-selected"}},[a("el-button",{staticClass:"command",attrs:{"data-command":"delete"}},[t._v("删除")])],1),a("div",{staticClass:"menu",attrs:{"data-status":"group-selected"}},[a("el-button",{staticClass:"command",attrs:{"data-command":"copy"}},[t._v("复制")]),a("el-button",{staticClass:"command",attrs:{"data-command":"paste"}},[t._v("粘贴")]),a("el-button",{staticClass:"command",attrs:{"data-command":"unGroup"}},[t._v("取消组合")]),a("el-button",{staticClass:"command",attrs:{"data-command":"delete"}},[t._v("删除")])],1),a("div",{staticClass:"menu",attrs:{"data-status":"canvas-selected"}},[a("el-button",{staticClass:"command",attrs:{"data-command":"undo"}},[t._v("撤销")]),a("el-button",{staticClass:"command disable",attrs:{"data-command":"redo"}},[t._v("重做")])],1),a("div",{staticClass:"menu",attrs:{"data-status":"multi-selected"}},[a("el-button",{staticClass:"command",attrs:{"data-command":"copy"}},[t._v("复制")]),a("el-button",{staticClass:"command",attrs:{"data-command":"paste"}},[t._v("粘贴")]),a("el-button",{staticClass:"command",attrs:{"data-command":"addGroup"}},[t._v("组合")])],1)])])],1)},r=[],n=(a("a4d3"),a("e01a"),a("7db0"),a("a9e3"),a("b64b"),a("d3b7"),a("ac1f"),a("3ca3"),a("5319"),a("1276"),a("ddb0"),a("2b3d"),a("b85c")),d=a("1688"),c=a.n(d),m={methods:{data:function(){},saveNodeAttribute:function(){var t=this;this.editor.executeCommand((function(){var e=t.editor.getCurrentPage(),a=e.getSelected()[0];e.update(a.id,{label:t.nodeAttributeForm.label,size:t.nodeAttributeForm.width+"*"+t.nodeAttributeForm.height,color:t.nodeAttributeForm.color})}))},saveEdgeAttribute:function(){var t=this;this.editor.executeCommand((function(){var e=t.editor.getCurrentPage(),a=e.getSelected()[0];console.log(t.edgeAttributeForm),e.update(a.id,{label:t.edgeAttributeForm.label,shape:t.edgeAttributeForm.shape})}))}}},u={name:"VueG6Editor",mixins:[m],data:function(){return{nodeAttributeForm:{label:"",width:"",height:""},edgeAttributeForm:{label:""},canvasAttributeForm:{grid:!0,cell:20},startNodeSVGUrl:a("2806"),endNodeSVGUrl:a("7b7a"),regularNodeSVGUrl:a("7813"),conditionNodeSVGUrl:a("579b"),modelNodeSVGUrl:"https://gw.alipayobjects.com/zos/rmsportal/rQMUhHHSqwYsPwjXxcfP.svg",editor:null,saveAsImageDialogVisible:!1,saveAsImageFormat:"jpg"}},mounted:function(){this.initG6Editor()},methods:{initG6Editor:function(){var t=this,e=this,a=new c.a;this.editor=a,c.a.track(!1);var o=c.a.Command;o.registerCommand("save",{queue:!1,enable:function(t){return!0},execute:function(t){var a=t.getCurrentPage().save();localStorage.setItem("flowData",JSON.stringify(a)),e.save(a),e.$message.success("数据已保存")},back:function(t){console.log("反向命令"),console.log(t)},shortcutCodes:[["metaKey","s"],["ctrlKey","s"]]});var s=new c.a.Flow({graph:{container:"page"},align:{line:{stroke:"#FA8C16",lineWidth:1},item:!0,grid:!0},grid:{cell:18},shortcut:{save:!0}});window.flow=s,s.getGraph().edge({shape:"flow-polyline"});var i=new c.a.Itempannel({container:"itempannel"}),l=new c.a.Toolbar({container:"toolbar"}),r=new c.a.Detailpannel({container:"detailpannel"}),d=getComputedStyle(document.querySelector(".right-part")).width;d=Number(d.replace(/px$/,""));var m=new c.a.Minimap({container:"minimap",width:d,height:200}),u=new c.a.Contextmenu({container:"contextmenu"});a.add(s),a.add(i),a.add(l),a.add(r),a.add(m),a.add(u),window.editor=a;var g=a.getCurrentPage();g.on("afterchange",(function(e){if("add"===e.action&&("startNode"===e.model.nodetype||"endNode"===e.model.nodetype)){var a,o=t.editor.getCurrentPage().getNodes(),s=Object(n["a"])(o);try{for(s.s();!(a=s.n()).done;){var i=a.value;i.model.nodetype===e.model.nodetype&&i.model.id!==e.model.id&&(t.editor.getCurrentPage().remove(e.item),t.$message.warning("只能有一个开始节点或结束节点"))}}catch(l){s.e(l)}finally{s.f()}}})),g.on("afteritemselected",(function(e){console.log("打印所选对象属性",e.item),console.log("打印所选对象数据模型",e.item.model);var a=e.item.model;e.item.isNode&&(t.nodeAttributeForm.label=a.label,t.nodeAttributeForm.width=a.size.split("*")[0],t.nodeAttributeForm.height=a.size.split("*")[1],t.nodeAttributeForm.color=a.color),e.item.isEdge&&(e.item.graph.edge({shape:"flow-polyline-round"}),t.edgeAttributeForm.label=a.label,t.edgeAttributeForm.shape=a.shape)})),g.on("afterdelete",(function(t){}))},openSaveAsImageDialog:function(){this.saveAsImageDialogVisible=!0},toggleGridShowStatus:function(t){t?this.editor.getCurrentPage().showGrid():this.editor.getCurrentPage().hideGrid()},saveAsImage:function(){var t;if("jpg"===this.saveAsImageFormat){var e=this.editor.getCurrentPage().saveImage();t=document.createElement("canvas"),t.width=e.width,t.height=e.height;var a=t.getContext("2d");a.fillStyle="#fff",a.fillRect(0,0,t.width,t.height),a.drawImage(e,0,0)}"png"===this.saveAsImageFormat&&(t=this.editor.getCurrentPage().saveImage());var o=t.toDataURL(),s=document.createElement("a");s.download="图片.jpg",s.href=o,document.body.appendChild(s),s.click(),document.body.removeChild(s),this.saveAsImageDialogVisible=!1},saveAsFile:function(){var t=JSON.stringify(this.editor.getCurrentPage().save()),e=new Blob([t]),a=URL.createObjectURL(e),o=document.createElement("a");o.download="数据.json",o.href=a,document.body.appendChild(o),o.click(),URL.revokeObjectURL(a),document.body.removeChild(o)},readHistoryData:function(){var t=localStorage.getItem("flowData");if(""!==t&&"{}"!==t&&null!==t){var e=JSON.parse(t);this.editor.getCurrentPage().read(e)}else this.$message.warning("无历史数据")},readUploadData:function(){var t=this,e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept",".json"),e.addEventListener("change",(function(a){console.dir(e);var o=e.files[0],s=new FileReader;s.onload=function(e){console.log(e);var a=JSON.parse(e.target.result);console.log(a),t.editor.getCurrentPage().read(a)},s.readAsText(o)})),e.click()},save:function(t){var e,a=t.edges,o=t.nodes,s=function(t){var e=o.find((function(e){return e.id===t}));return{id:e.id,nodeName:e.label,in:[],out:[]}},i={},l=Object(n["a"])(a);try{for(l.s();!(e=l.n()).done;){var r=e.value,d=r.source,c=r.target,m=null,u=null;i[d]?m=i[d]:(m=s(d),i[d]=m),i[c]?u=i[c]:i[c]=u=s(c),m.out.push({edge:r,target:u}),u.in.push({edge:r,source:m})}}catch(F){l.e(F)}finally{l.f()}console.log(i);for(var g=null,p=0,f=Object.keys(i);p<f.length;p++){var b=f[p];0===i[b].in.length&&(g=i[b]),0===i[b].out.length&&i[b]}var v={};v.name=g.nodeName,v.description=g.description,v.version=1,v.steps=[];var h,C=Object(n["a"])(g.out);try{for(C.s();!(h=C.n()).done;){var w=h.value;1===w.target.out.length?y(w.target,v.steps):w.target.out.length>1&&v.steps.push(A(w.target))}}catch(F){C.e(F)}finally{C.f()}function y(t,e){var a={id:t.id,name:t.nodeName,type:"SIMPLE"};e.push(a);var o=t.out[0].target;1===o.out.length?y(o,e):o.out.length>1&&e.push(A(o))}function A(t){var e,a={id:t.id,name:t.nodeName,type:"DECISION",decisionCases:{}},o=Object(n["a"])(t.out);try{for(o.s();!(e=o.n()).done;){var s=e.value;a.decisionCases[s.edge.label]=[],1===s.target.out.length?y(s.target,a.decisionCases[s.edge.label]):s.target.out.length>1&&a.decisionCases[s.edge.label].push(A(s.target))}}catch(F){o.e(F)}finally{o.f()}return a}console.log(JSON.stringify(v,null,2))}}},g=u,p=(a("3e0c"),a("2877")),f=Object(p["a"])(g,l,r,!1,null,null,null),b=f.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-main",[a("div",{staticClass:"wrap"},[a("div",{staticClass:"toolbar",attrs:{id:"toolbar"}},[a("i",{staticClass:"command el-icon el-icon-arrow-left",attrs:{"data-command":"undo",title:"撤回"}}),a("i",{staticClass:"command el-icon el-icon-arrow-right",attrs:{"data-command":"redo",title:"重做"}}),a("i",{staticClass:"command el-icon el-icon-delete",attrs:{"data-command":"delete",title:"删除"}}),a("i",{staticClass:"command el-icon el-icon-zoom-out",attrs:{"data-command":"zoomOut",title:"缩小"}}),a("i",{staticClass:"command el-icon el-icon-zoom-in",attrs:{"data-command":"zoomIn",title:"放大"}}),a("i",{staticClass:"command el-icon el-icon-upload",attrs:{"data-command":"save",title:"保存"}})]),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"ph left",attrs:{id:"itempannel"}},[a("div",{staticClass:"getItem",attrs:{"data-type":"node","data-shape":"flow-rect","data-size":"120*48","data-label":"常规节点","data-color":"#1890FF"}},[a("img",{attrs:{draggable:"false",src:"https://gw.alipayobjects.com/zos/rmsportal/wHcJakkCXDrUUlNkNzSy.svg",alt:"",srcset:""}})]),a("div",{staticClass:"getItem",attrs:{"data-type":"node","data-shape":"flow-circle","data-size":"72*72","data-label":"起止节点","data-color":"#FA8C16"}},[a("img",{attrs:{draggable:"false",src:"https://gw.alipayobjects.com/zos/rmsportal/ZnPxbVjKYADMYxkTQXRi.svg",alt:"",srcset:""}})]),a("div",{staticClass:"getItem",attrs:{"data-type":"node","data-shape":"flow-rhombus","data-size":"80*72","data-label":"分叉节点","data-color":"#13C2C2"}},[a("img",{attrs:{draggable:"false",src:"https://gw.alipayobjects.com/zos/rmsportal/SnWIktArriZRWdGCnGfK.svg",alt:"",srcset:""}})]),a("div",{staticClass:"getItem",attrs:{"data-type":"node","data-shape":"flow-capsule","data-size":"80*48","data-label":"模型节点","data-color":"#722ED1"}},[a("img",{attrs:{draggable:"false",src:"https://gw.alipayobjects.com/zos/rmsportal/rQMUhHHSqwYsPwjXxcfP.svg",alt:"",srcset:""}})]),a("div",{staticClass:"getItem",attrs:{"data-type":"node","data-shape":"customNode","data-size":"80*48","data-label":"我是自定义的","data-color":"#722ED1"}},[a("img",{attrs:{draggable:"false",src:"https://user-gold-cdn.xitu.io/2019/3/15/169809645b016da6?w=114&h=128&f=png&s=1893",alt:"",srcset:""}})])])]),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"ph",attrs:{id:"page"}})]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"ph right"},[a("div",{staticClass:"detailpannel",attrs:{id:"detailpannel"}},[a("div",{staticClass:"panel",attrs:{"data-status":"node-selected",id:"node_detailpanel"}},[a("div",{staticClass:"panel-title"},[t._v("属性详情")]),a("div",{staticClass:"block-container"},[a("el-input",{attrs:{size:"mini",placeholder:"请输入内容"},on:{change:t.changeNodeLabel},model:{value:t.nodeLabel,callback:function(e){t.nodeLabel=e},expression:"nodeLabel"}})],1)])]),a("div",{staticClass:"minimap"},[a("div",{staticClass:"panel-title"},[t._v("缩略图")]),a("div",{attrs:{id:"minimap"}})])])])],1)],1)])],1)},h=[],C=(a("4160"),a("159b"),{data:function(){return{graph:null,nodeLabel:""}},mounted:function(){this.initG6Editor()},methods:{saveGraph:function(){var t=this.editor.getCurrentPage();t.save()},changeNodeLabel:function(t){var e=this.editor;e.executeCommand((function(){var a=e.getCurrentPage(),o=a.getSelected();o.forEach((function(e){a.update(e.id,{label:t})}))}))},initG6Editor:function(){var t=this,e=new c.a;this.editor=e;var a=c.a.Flow,o=c.a.Command;o.registerCommand("save",{queue:!1,enable:function(t){return!0},execute:function(e){t.saveGraph()},shortcutCodes:[["ctrlKey","shiftKey","s"]]});var s=new c.a.Flow({graph:{container:"page"}});s.getGraph().edge({shape:"flow-polyline"}),a.registerNode("customNode",{draw:function(t){var e=t.getGraphicGroup(),a=t.getModel();return e.addShape("text",{attrs:{x:0,y:0,fill:"#333",text:a.label}}),e.addShape("text",{attrs:{x:0,y:0,fill:"#333",text:" ("+a.x+", "+a.y+") \n 原点是组的图坐标",textBaseline:"top"}}),e.addShape("rect",{attrs:{x:0,y:0,width:100,height:100,stroke:"red"}})}});var i=new c.a.Itempannel({container:"itempannel"}),l=new c.a.Toolbar({container:"toolbar"}),r=new c.a.Detailpannel({container:"detailpannel"}),n=new c.a.Minimap({container:"minimap",height:226,width:226});e.add(s),e.add(i),e.add(l),e.add(r),e.add(n);var d=e.getCurrentPage();d.on("afteritemselected",(function(e){if(console.log(e),e.item.isNode){var a=e.item.getModel();t.nodeLabel=a.label}if(e.item.isEdge){var o=e.item.getModel();t.nodeLabel=o.label}}))}}}),w=C,y=(a("ac40"),Object(p["a"])(w,v,h,!1,null,null,null)),A=y.exports,F={name:"App",components:{VueG6Editor:b,cankao:A}},x=F,S=Object(p["a"])(x,s,i,!1,null,null,null),N=S.exports,_=a("5c96"),j=a.n(_);a("0fae"),a("1f54");o["default"].use(j.a,{size:"small"}),o["default"].config.productionTip=!1,window.blueju=new o["default"]({render:function(t){return t(N)}}).$mount("#app")},"579b":function(t,e,a){t.exports=a.p+"img/condition-node.5b055d00.svg"},7813:function(t,e,a){t.exports=a.p+"img/regular-node.81baa92e.svg"},"7b7a":function(t,e,a){t.exports=a.p+"img/end-node.e404d1c7.svg"},ac40:function(t,e,a){"use strict";var o=a("1f8b"),s=a.n(o);s.a}});
//# sourceMappingURL=app.1deaba5b.js.map